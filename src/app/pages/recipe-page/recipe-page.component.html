<section>
  <!--–ú–ï–ù–Æ –†–ï–¶–ï–ü–¢–ê-->
  <div class="menu_block">
    <ul class="recipe_menu">
      <li [ngClass]="{ active: 0 == activeItem }" class="item_menu">
        <a href="javascript:void(0)" (click)="scroll('recipe-about', 0)">–ü–†–û –†–ï–¶–ï–ü–¢</a>
      </li>
      <li [ngClass]="{ active: 1 == activeItem }" class="item_menu">
        <a href="javascript:void(0)" (click)="scroll('ingredients', 1)">–Ü–ù–ì–†–ï–î–Ü–Ñ–ù–¢–ò</a>
      </li>
      <li [ngClass]="{ active: 2 == activeItem }" class="item_menu">
        <a href="javascript:void(0)" (click)="scroll('instruction', 2)">–ö–†–û–ö–ò</a>
      </li>
      <li [ngClass]="{ active: 3 == activeItem }" class="item_menu">
        <a href="javascript:void(0)" (click)="scroll('council', 3)">–ü–û–†–ê–î–ò</a>
      </li>
    </ul>
  </div>

  <div class="recipe_block">
    <div class="ads"></div>

    <div class="recipe_body">
      <!--–•–õ–Ü–ë–ù–Ü –ö–†–ò–•–¢–ò-->
      <nav id="recipe-about" aria-label="breadcrumb" class="bread_crumbs">
        <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –º–æ–±—ñ–ª—å–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤ -->

        <!-- –•–ª—ñ–±–Ω—ñ –∫—Ä–∏—Ö—Ç–∏ –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø—É —ñ –ø—Ä–∏—Ö–æ–≤–∞–Ω—ñ –Ω–∞ –º–æ–±—ñ–ª—å–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—è—Ö -->
        <div class="breadcrumb-wrapper">
          <ol class="breadcrumb d-md-flex" id="breadcrumbMenu">
            <li class="breadcrumb-item">
              <a [appSsrLink]="'/'">–ì–æ–ª–æ–≤–Ω–∞</a>
            </li>
            <li class="breadcrumb-item">
              <a [appSsrLink]="'/dishes'">–†–µ—Ü–µ–ø—Ç–∏ –°–∏–Ω—å–æ–≥–æ –ö–æ—Ç–∞</a>
            </li>
            <li class="breadcrumb-item">
              <a [appSsrLink]="['categories', dishesID]">{{ dishesName }}</a>
            </li>
            <li class="breadcrumb-item">
              <a [appSsrLink]="['recipes-list', categoryID]">{{
                categoryName
              }}</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">
              {{ recipeTitle }}
            </li>
          </ol>
        </div>
      </nav>

      <!--–ó–ê–ì–û–õ–û–í–û–ö-->
      <div class="recipe_title">
        <h1 [ngStyle]="{ 'font-size': fontSize }">{{ recipeTitle }}</h1>
      </div>
      <!--–Ü–ù–§–û–†–ú–ê–¶–Ü–Ø –ü–†–û –†–ï–¶–ï–ü–¢-->
      <div class="info_block">
        <div class="image_block" [class.active]="isActive">
          <img class="recipe_image" src="{{ mainImage }}" alt="–§–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—è —Å—Ç—Ä–∞–≤–∏ –ø—ñ–¥ –Ω–∞–∑–≤–æ—é {{ recipeTitle }}"
            fetchpriority="high" loading="eager" decoding="auto" (click)="openModal(mainImage)"
            style="cursor: pointer;" />
        </div>


        <div class="seasobs" [ngClass]="'count-' + seasons.length">
          @for (item of seasons; track $index) {

          <a [ngClass]="'season_item ' + item.list" [appSsrLink]="['recipe-filte', 'season', item.list]">
            <img [src]="item.image" [alt]="item.name" width="50" height="50" loading="lazy" />
            <p>{{ item.name }}</p>
          </a>
          }
        </div>


        <div class="info">
          <div class="info_block_item">
            @for (item of info; track $index) {
            <ng-container *ngIf="item.name !== null && !isBlockedFilter(item.infoLink)">
              <a class="info_item" [appSsrLink]="['recipe-filte', item.infoLink, item.slug]">

                <div class="image">
                  <img [src]="item.image" [alt]="item.name" width="70" height="70" loading="lazy" />
                </div>
                <div class="name">
                  <p>{{ item.name }}</p>
                </div>
              </a>
            </ng-container>

            <!-- üõë –ó–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ —Ñ—ñ–ª—å—Ç—Ä–∏ ‚Äî –±–µ–∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è -->
            <ng-container *ngIf="item.name !== null && isBlockedFilter(item.infoLink)">
              <div class="info_item info_item--disabled">
                <div class="image">
                  <img [src]="item.image" [alt]="item.name" width="70" height="70" loading="lazy" />
                </div>
                <div class="name">
                  <p>{{ item.name }}</p>
                </div>
              </div>
            </ng-container>
            }
          </div>
        </div>





      </div>

      <!--–û–ü–ò–° –†–ï–¶–ï–ü–¢–ê-->
      <div class="recipe_description">
        <h2 *ngIf="recipeSubtitles" class="recipe_subtitles">
          {{ recipeSubtitles }}
        </h2>
        <div class="recipe_description_block" [innerHTML]="descriptionRecipe"></div>
      </div>

      <!--–Ü–ù–ì–†–ò–î–Ü–Ñ–ù–¢–ò-->
      <div id="ingredients" class="ingredients_block">
        <h3 class="ingredients_title">–Ü–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏</h3>
        <div class="main_data">
          <div class="ingredients">
            @for (item of ingredients; track $index) {
            <div *ngIf="item.name" class="group_name">
              <h4>{{ item.name }}</h4>
            </div>

            <div class="ing_block">
              @for (group of item.group; track $index) {
              <div class="ingredient_information">
                <!--–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è-->
                <div class="image">
                  <img [src]="group.image" alt="{{ group.text }}" loading="lazy" />
                </div>

                <!--–ù–∞–∑–≤–∞-->
                <div class="title text">
                  <p>
                    {{ group.text }}
                  </p>
                </div>

                <!--–ü–æ—Å–∏–ª–∞–Ω–Ω—è-->
                <div *ngIf="group.recipeID" class="links">
                  <a class="recipeLink" [appSsrLink]="['recipe-page', group.recipeID]" target="_blank">
                    <div class="iamge"></div>
                  </a>
                  <!--
                              <a *ngIf="group.selectedProduct.articleList"
                                class="recipeLink"
                                [href]="group.selectedProduct.articleList"
                                target="_blank"
                              >
                                <div class="iamge"></div>
                              </a>
                              -->
                </div>
              </div>

              }
            </div>
            }
          </div>

          <h4>–ó–±–µ—Ä–µ–∂–∏ —ñ–Ω–≥—Ä–∏–¥—ñ—î–Ω—Ç–∏</h4>
          <div class="save_ibgredients">
            <div (click)="saveToViber()" class="social_icon viber">
              <div class="icon">
                <img src="../../../assets/icon/social/viber.webp" alt="–ó–±–µ—Ä–µ–≥—Ç–∏ —É Viber" loading="lazy" />
              </div>
            </div>
            <div (click)="saveToTelegram()" class="social_icon telegram">
              <div class="icon">
                <img src="../../../assets/icon/social/telegram.webp" alt="–ó–±–µ—Ä–µ–≥—Ç–∏ —É Telegram" loading="lazy" />
              </div>
            </div>
          </div>
        </div>
      </div>

      <!--–°–£–ü–£–¢–ù–Ü –†–ï–¶–ï–ü–¢–ò-->
      <div *ngIf="accompanyingRecipes && accompanyingRecipes.length > 0" class="accompanying_recipes">
        <h3 class="accompanying_recipes_title">–°—É–ø—É—Ç–Ω—ñ —Ä–µ—Ü–µ–ø—Ç–∏</h3>
        <ul>
          @for (item of accompanyingRecipes; track $index) {
          <li>
            <a class="recipeLink" [appSsrLink]="['recipe-page', item.recipeID]" target="_blank">
              {{ item.recipeName }}
            </a>
          </li>
          }
        </ul>
      </div>

      <!-- –Ü–ù–°–¢–†–£–ö–¶–Ü–Ø -->
      <div id="instruction" class="recipe_preparation">
        <div class="instructions">
          <div class="group_block">
            <ng-container *ngFor="let steps of instructions; let i = index">
              <div *ngIf="steps.groupName" class="group_name mb-3">
                <h4>{{ steps.groupName }}</h4>
              </div>

              <ng-container *ngFor="let group of steps.group; let j = index">
                <div id="Step{{ j + 1 }}" class="ing_line mb-4">
                  <h4>
                    –ö—Ä–æ–∫ {{ j + 1 }}: {{ group.stepName || '' }}
                  </h4>

                  <div *ngIf="group.stepImage" class="step_img" (click)="openModal(group.stepImage)"
                    style="cursor: pointer;">
                    <img [src]="group.stepImage" [alt]="group.stepName" class="img-fluid" loading="lazy" />
                  </div>

                  <div class="text mb-2" [innerHTML]="group.description"></div>

                  <div *ngIf="group.fullDescription" class="accordion" id="accordionFullDesc{{ i }}-{{ j }}">
                    <div class="accordion-item">
                      <h2 class="accordion-header" id="headingFullDesc{{ i }}-{{ j }}">
                        <button class="accordion-button collapsed p-2" type="button" data-bs-toggle="collapse"
                          [attr.data-bs-target]="'#collapseFullDesc' + i + '-' + j" aria-expanded="false"
                          [attr.aria-controls]="'collapseFullDesc' + i + '-' + j" style="font-size: 0.9rem;">
                          –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ </button>
                      </h2>

                      <div [attr.id]="'collapseFullDesc' + i + '-' + j" class="accordion-collapse collapse"
                        [attr.aria-labelledby]="'headingFullDesc' + i + '-' + j"
                        [attr.data-bs-parent]="'#accordionFullDesc' + i + '-' + j">
                        <div class="accordion-body small" [innerHTML]="group.fullDescription"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>
            </ng-container>
          </div>
        </div>
      </div>



      <!--  –ü–û–†–ê–î–ò  -->
      <div id="council" class="advice_block">
        <h2>–î–µ—è–∫—ñ –ø–æ—Ä–∞–¥–∏</h2>
        <div class="text" [innerHTML]="advice"></div>
      </div>

      <!--  –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è  -->
      <div *ngIf="completion" class="completion_block">
        <h2>–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è</h2>
        <div class="text" [innerHTML]="completion"></div>
      </div>

      <!--  –°–æ—Ü—ñ–∞–ª—å–Ω—ñ –º–µ—Ä–µ–∂—ñ  -->
      <div class="social_holder">
        <a class="share_btn_item fb" [href]="fbShareUrl" target="_blank" title="–ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è —É Facebook"></a>
        <a class="share_btn_item pi" [href]="piShareUrl" target="_blank" title="–ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è —É Pinterest"></a>
        <a class="share_btn_item wa" [href]="waShareUrl" target="_blank" title="–ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è —É Whatsapp"></a>
        <a class="share_btn_item tg" [href]="tgShareUrl" target="_blank" title="–ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è —É Telegram"></a>
        <a class="share_btn_item vb" [href]="vbShareUrl" target="_blank" title="–ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è —É Viber"></a>
      </div>


    </div>


    <!--–†–ï–ö–õ–ê–ú–ù–ò–ô –ë–õ–û–ö-->
    <div class="ads"></div>
  </div>

  <!--–í–∏–ø–∞–¥–∫–æ–≤—ñ —Ä–µ—Ü–µ–ø—Ç–∏-->
  <div class="auto-scroll-container" #scrollContainer (mouseenter)="stopAutoScroll()" (mouseleave)="startAutoScroll()">

    <div class="scroll-inner">
      <div class="recipe-card" *ngFor="let recipe of recipes">
        <a [appSsrLink]="['recipe-page', recipe.id]" target="_parent" (click)="reloadMenu()">
          <img [src]="recipe.mainImage" [alt]="recipe.recipeTitle" loading="lazy" />
          <p>{{ recipe.recipeTitle }}</p>
        </a>
      </div>
    </div>

  </div>



  <div class="modal fade" id="imageModal" tabindex="-1" aria-labelledby="imageModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-90w">
      <div class="modal-content bg-transparent border-0">
        <div class="modal-body p-0">
          <div class="ratio ratio-16x9">
            <img id="modalImage" src="" alt="–í—ñ–¥–∫—Ä–∏—Ç–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è" class="img-fluid rounded" loading="lazy" />
          </div>
        </div>
        <button type="button" class="btn-close position-absolute top-0 end-0 m-3" data-bs-dismiss="modal"
          aria-label="Close" style="z-index: 1055;"></button>
      </div>
    </div>
  </div>
</section>